System.register("chunks:///main.js",["./rollupPluginModLoBabelHelpers-a0dd97cd.js","cc"],(function(){"use strict";var e,t,n,r,i,a,o,s,l,u,p,c;return{setters:[function(a){e=a._,t=a.a,n=a.b,r=a.c,i=a.d},function(e){a=e.cclegacy,o=e.assetManager,s=e._decorator,l=e.director,u=e.Component,p=e.settings,c=e.Settings}],execute:function(){a._RF.push({},"da8bfBjFONP2pKnq5uwQ7GF","ZipBundleLoader",void 0);var d,f,h,y,b,v,g,m=new Map,w=new Map,Z=new Map,C=function(){function t(){this.loadedZipNames=new Array}var n=t.prototype;return n.downloadZip=function(e,t){return new Promise((function(n){var r=e.match(/[^/]+$/);if(null!==r){var i=""+r[0]+t+".zip";o.downloader.downloadFile(e+"/"+i,{xhrResponseType:"arraybuffer"},null,(function(e,t){n(t)}))}else n(null)}))},n.loadZip=function(){var t=e((function*(e,t){var n=t?"."+t:"",r=yield this.downloadZip(e,n);if(null!==r){var i=e.replace(/(.*?)\/assets\//,"assets/");globalThis.fflate.unzip(new Uint8Array(r),(function(t,n){t?console.warn("Unzip failed:",t.message):Object.keys(n).forEach((function(t){m.set(e+"/"+t,n[t]),m.set(i+"/"+t,n[t])}))}))}}));return function(e,n){return t.apply(this,arguments)}}(),n.init=function(){if(globalThis.fflate){var t=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"response");Object.defineProperty(XMLHttpRequest.prototype,"response",{get:function(){return this.ZipCacheUrl?w.get(this.ZipCacheUrl):t.get.call(this)},set:function(e){},configurable:!0});var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(e,t,r,i,a){return m.has(t)&&(this.ZipCacheUrl=t),n.apply(this,arguments)};var r=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=e((function*(e){if(!this.ZipCacheUrl)return r.apply(this,arguments);if(!w.has(this.ZipCacheUrl)){var t=this.responseType,n=m.get(this.ZipCacheUrl),i=null;switch(t){case"arraybuffer":i=n.buffer?n.buffer:n;break;case"json":var a=new TextDecoder,o=a.decode(n);i=JSON.parse(o);break;case"text":var s=new TextDecoder;i=s.decode(n);break;default:console.error("Unknown type in zipCache:",t)}var l=Z.get(this.ZipCacheUrl);l&&(w.delete(this.ZipCacheUrl+"@version"+l),Z.delete(this.ZipCacheUrl));var u=performance.now();Z.set(this.ZipCacheUrl,u),this.ZipCacheUrl=this.ZipCacheUrl+"@version"+u,w.set(this.ZipCacheUrl,i)}this.onload()}))}else console.error("fflate is not found.")},t}(),U=globalThis.__zipBundleLoader;globalThis.fflate&&!U&&(U=new C,globalThis.__zipBundleLoader=U,U.init()),a._RF.pop(),a._RF.push({},"d64acHObxRF16rA9rsIo/bq","Launcher",void 0);var L=["game"],N=s.ccclass,R=s.property;d=N("Launcher"),f=R({tooltip:"遊戲所在的 Bundle 名稱"}),h=R({tooltip:"要啟動的場景名稱"}),d((v=t((b=function(t){function a(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,r(e,"bundleName",v,i(e)),r(e,"sceneName",g,i(e)),e}n(a,t);var s=a.prototype;return s.onLoad=function(){var e=this,t=[this.loadBundle(this.bundleName),this.loadZip(this.bundleName,!1)];Promise.all(t).then((function(t){var n=t[0];null==n||n.loadScene(e.sceneName,(function(e,t){l.runSceneImmediate(t)}))}))},s.loadBundle=function(){var t=e((function*(e,t){return void 0===t&&(t=null),new Promise((function(n){o.loadBundle(e,t,(function(e,t){n(e?null:t)}))}))}));return function(e,n){return t.apply(this,arguments)}}(),s.loadZip=function(){var t=e((function*(e,t,n,r){if(void 0===n&&(n=""),void 0===r&&(r=""),U&&!(U.loadedZipNames.indexOf(e)>=0)&&(t||-1!==L.indexOf(e))){var i=n,a=r;if(!t)i="./assets/"+e,a=p.querySettings(c.Category.ASSETS,"bundleVers")[e];U.loadedZipNames.push(e),yield U.loadZip(i,a)}}));return function(e,n,r,i){return t.apply(this,arguments)}}(),a}(u)).prototype,"bundleName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"game"}}),g=t(b.prototype,"sceneName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Game"}}),y=b));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});