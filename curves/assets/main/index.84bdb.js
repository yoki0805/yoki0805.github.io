window.__require=function t(e,o,n){function i(r,l){if(!o[r]){if(!e[r]){var s=r.split("/");if(s=s[s.length-1],!e[s]){var a="function"==typeof __require&&__require;if(!l&&a)return a(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+r+"'")}r=s}var h=o[r]={exports:{}};e[r][0].call(h.exports,function(t){return i(e[r][1][t]||t)},h,h.exports,t,e,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({CCRSpline:[function(t,e,o){"use strict";cc._RF.push(e,"ee1daRgERhIPqCrNxbjwxHL","CCRSpline"),Object.defineProperty(o,"__esModule",{value:!0});var n=Math.ceil,i=function(t,e,o,n){this.t1=t,this.t2=e,this.t3=o,this.du=n},c=function(){function t(t){this.ctrlPts=null,this.lstSeg=null,this.lookup=null,this.setCtrlPts(t)}return t.prototype.setCtrlPts=function(t){var e=t;if(e){if(e.length<2)return void cc.log("ctrlPts.length must be greater than 1.");var o=[],n=e.length,i=e[1].sub(e[0]).normalizeSelf().mulSelf(.001),c=e[n-1].sub(e[n-2]).normalizeSelf().mulSelf(.001);o.push(e[0].sub(i)),o.push.apply(o,e),o.push(e[n-2].add(c)),this.ctrlPts=o,this.calcParams()}},t.prototype.clear=function(){this.ctrlPts=null,this.lstSeg=null,this.lookup=null},t.prototype.getVert=function(t){var e=this.ctrlPts;if(e){var o=this.lstSeg;if(o.length>=1){if(t<=0)return cc.v2(e[1]);if(t>=1)return cc.v2(e[e.length-2]);for(var i=this.lookup[n(10*t)];i>=0;--i)if(o[i].du<=t){var c=(i+1<o.length?o[i+1].du:1)-o[i].du;return this.interp(i,(t-o[i].du)/c)}}}return null},t.prototype.calcParams=function(){for(var t=function(t,e,o){var n=Math.pow(o.x-e.x,2)+Math.pow(o.y-e.y,2),i=Math.pow(n,.5);return Math.pow(i,.5)+t},e=this.ctrlPts,o=[],n=0,c=0,r=0,l=0,s=0,a=e.length-4;s<=a;++s)n=t(0,e[s],e[s+1]),c=t(n,e[s+1],e[s+2]),r=t(c,e[s+2],e[s+3]),o.push(new i(n,c,r,l)),l+=e[s+2].sub(e[s+1]).mag();var h=l,u=0;for(a=o.length;u<a;++u)o[u].du/=h;this.lstSeg=o;for(var d=o.length-1,p=[],f=10;f>=0;--f){for(;10*o[d].du>f&&d>0;)--d;p[f]=d}this.lookup=p},t.prototype.interp=function(t,e){var o=this.ctrlPts,n=this.lstSeg[t],i=o[t],c=o[t+1],r=o[t+2],l=o[t+3],s=n.t1,a=n.t2,h=n.t3,u=s+e*(a-s),d=s-0,p=a-0,f=a-s,y=h-s,T=h-a,v=u-0,N=u-s,P=u-a,C=s-u,_=a-u,m=h-u,E=0,O=0,g=cc.v2();E=C/d,O=v/d;var x=i.x*E+c.x*O,b=i.y*E+c.y*O;E=_/f,O=N/f;var w=c.x*E+r.x*O,k=c.y*E+r.y*O;E=m/T,O=P/T;var B=r.x*E+l.x*O,S=r.y*E+l.y*O,L=x*(E=_/p)+w*(O=v/p),D=b*E+k*O,H=w*(E=m/y)+B*(O=N/y),M=k*E+S*O;return E=_/f,O=N/f,g.x=L*E+H*O,g.y=D*E+M*O,g},t}();o.default=c,cc._RF.pop()},{}],CardinalSplineDemo:[function(t,e,o){"use strict";cc._RF.push(e,"a9929FxtUpJXr7MxVs5vkBf","CardinalSplineDemo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i={white:cc.Color.WHITE,yellow:cc.Color.YELLOW,purple:cc.Color.MAGENTA,purple2:cc.color(153,0,153),blue:cc.color(51,153,255),blue2:cc.color(0,102,204)},c=cc._decorator,r=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchPanel=null,e.painter=null,e.clearBtnNode=null,e.tensionSlider=null,e.tension=0,e.lstPts=[],e.pickedIndex=-1,e}return __extends(e,t),e.prototype.init=function(){cc.log("CardinalSplineDemo init."),this.touchPanel.on(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.on(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.on(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.on(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.on(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.tensionSlider.node.on("slide",this.tensionSliderOnSlide,this),this.tensionSlider.progress=.5,this.tension=.5},e.prototype.release=function(){cc.log("CardinalSplineDemo release."),this.touchPanel.off(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.off(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.off(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.off(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.off(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.tensionSlider.node.off("slide",this.tensionSliderOnSlide,this),this.tensionSlider.progress=.5,this.tension=.5,this.lstPts.length=0,this.pickedIndex=-1},e.prototype.getPointOnSegment=function(t,e,o,n,i,c){var r=i,l=Math.pow(r,2),s=Math.pow(r,3),a=c*(2*l-s-r),h=c*(-s+l)+(2*s-3*l)+1,u=c*(s-2*l+r)+-2*s+3*l,d=c*(s-l);return t.mul(a).addSelf(e.mul(h).addSelf(o.mul(u).addSelf(n.mul(d))))},e.prototype.interpolate=function(t,e,o){var n=t.length-1;if(0===t.length)return cc.Vec2.ZERO;if(1===t.length)return t[0].clone();if(2===t.length)return t[0].lerp(t[1],e);if(e<=0)return t[0].clone();if(e>=1)return t[n].clone();var i=o,c=e*n,r=Math.floor(c),l=c-r,s=t[r-1],a=t[r+0],h=t[r+1],u=t[r+2];return s||(s=t[0]),h||(h=t[n-1]),u||(u=t[n]),this.getPointOnSegment(s,a,h,u,l,i)},e.prototype.lateUpdate=function(){this.draw()},e.prototype.clearBtnNodeOnTouchEnd=function(){this.lstPts.length=0,this.pickedIndex=-1},e.prototype.tensionSliderOnSlide=function(t){var e=t.progress;this.tension=1-cc.misc.clamp01(e)},e.prototype.touchPanelOnTouchStart=function(t){var e=this.lstPts,o=t.getLocation(),n=Math.pow(23,2);this.pickedIndex=e.findIndex(function(t){return t.sub(o).magSqr()<=n}),-1===this.pickedIndex&&e.push(t.getLocation())},e.prototype.touchPanelOnTouchMove=function(t){this.lstPts[this.pickedIndex]&&(this.lstPts[this.pickedIndex]=t.getLocation())},e.prototype.touchPanelOnTouchEnd=function(){this.pickedIndex=-1},e.prototype.touchPanelOnTouchCancel=function(){this.pickedIndex=-1},e.prototype.drawListPoints=function(t,e,o,n){var i=this.painter,c=this.lstPts;if(t<c.length){e=Math.min(e,c.length),i.fillColor=n;for(var r=t;r<e;++r)c[r]&&i.circle(c[r].x,c[r].y,o);i.fill()}},e.prototype.drawPoints=function(){var t=this.lstPts.length;this.drawListPoints(0,t,15,i.blue2),this.drawListPoints(0,t,11.25,i.blue)},e.prototype.drawAuxiliaryLines=function(){var t=this.painter,e=this.lstPts;e.length>=2&&(t.lineWidth=2.5,t.strokeColor=i.white,e.forEach(function(e,o){0===o?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.stroke())},e.prototype.drawCardinalSpline=function(){var t=this.painter,e=this.lstPts;if(e.length>=3){t.lineWidth=5,t.strokeColor=i.yellow,t.moveTo(e[0].x,e[0].y);for(var o=e[0],n=0;n<=1;n+=.005)o=this.interpolate(e,n,this.tension),t.lineTo(o.x,o.y);t.stroke()}},e.prototype.draw=function(){this.painter.clear(),this.drawAuxiliaryLines(),this.drawCardinalSpline(),this.drawPoints()},__decorate([l(cc.Node)],e.prototype,"touchPanel",void 0),__decorate([l(cc.Graphics)],e.prototype,"painter",void 0),__decorate([l(cc.Node)],e.prototype,"clearBtnNode",void 0),__decorate([l(cc.Slider)],e.prototype,"tensionSlider",void 0),__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./Demonstration":"Demonstration"}],CentripetalCatmullRomSplineDemo:[function(t,e,o){"use strict";cc._RF.push(e,"58decEw1whGlJOWAufZo+Hq","CentripetalCatmullRomSplineDemo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i=t("./CCRSpline"),c={white:cc.Color.WHITE,yellow:cc.Color.YELLOW,purple:cc.Color.MAGENTA,purple2:cc.color(153,0,153),blue:cc.color(51,153,255),blue2:cc.color(0,102,204)},r=cc._decorator,l=r.ccclass,s=r.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchPanel=null,e.painter=null,e.clearBtnNode=null,e.spline=new i.default,e.lstPts=[],e.pickedIndex=-1,e}return __extends(e,t),e.prototype.init=function(){cc.log("CCRSplineDemo init."),this.touchPanel.on(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.on(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.on(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.on(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.on(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this)},e.prototype.release=function(){cc.log("CCRSplineDemo release."),this.touchPanel.off(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.off(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.off(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.off(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.off(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.lstPts.length=0,this.pickedIndex=-1,this.spline.clear()},e.prototype.lateUpdate=function(){this.draw()},e.prototype.clearBtnNodeOnTouchEnd=function(){this.lstPts.length=0,this.pickedIndex=-1},e.prototype.touchPanelOnTouchStart=function(t){var e=this.lstPts,o=t.getLocation(),n=Math.pow(23,2);this.pickedIndex=e.findIndex(function(t){return t.sub(o).magSqr()<=n}),-1===this.pickedIndex&&e.push(t.getLocation())},e.prototype.touchPanelOnTouchMove=function(t){this.lstPts[this.pickedIndex]&&(this.lstPts[this.pickedIndex]=t.getLocation())},e.prototype.touchPanelOnTouchEnd=function(){this.pickedIndex=-1},e.prototype.touchPanelOnTouchCancel=function(){this.pickedIndex=-1},e.prototype.drawListPoints=function(t,e,o,n){var i=this.painter,c=this.lstPts;if(t<c.length){e=Math.min(e,c.length),i.fillColor=n;for(var r=t;r<e;++r)c[r]&&i.circle(c[r].x,c[r].y,o);i.fill()}},e.prototype.drawPoints=function(){var t=this.lstPts.length;this.drawListPoints(0,t,15,c.blue2),this.drawListPoints(0,t,11.25,c.blue)},e.prototype.drawAuxiliaryLines=function(){var t=this.painter,e=this.lstPts;e.length>=2&&(t.lineWidth=2.5,t.strokeColor=c.white,e.forEach(function(e,o){0===o?t.moveTo(e.x,e.y):t.lineTo(e.x,e.y)}),t.stroke())},e.prototype.drawCCRSpline=function(){var t=this.painter,e=this.lstPts;if(e.length>=3){t.lineWidth=5,t.strokeColor=c.yellow,t.moveTo(e[0].x,e[0].y);var o=e[0];this.spline.setCtrlPts(e);for(var n=0;n<=1;n+=.005)o=this.spline.getVert(n),t.lineTo(o.x,o.y);t.stroke()}},e.prototype.draw=function(){this.painter.clear(),this.drawAuxiliaryLines(),this.drawCCRSpline(),this.drawPoints()},__decorate([s(cc.Node)],e.prototype,"touchPanel",void 0),__decorate([s(cc.Graphics)],e.prototype,"painter",void 0),__decorate([s(cc.Node)],e.prototype,"clearBtnNode",void 0),__decorate([l],e)}(n.default);o.default=a,cc._RF.pop()},{"./CCRSpline":"CCRSpline","./Demonstration":"Demonstration"}],CubicBezierCurve:[function(t,e,o){"use strict";cc._RF.push(e,"380310CwNFIQKnq6Za3v8Ps","CubicBezierCurve"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i={cyan:cc.Color.CYAN,white:cc.Color.WHITE,yellow:cc.Color.YELLOW,purple:cc.Color.MAGENTA,purple2:cc.color(153,0,153),blue:cc.color(51,153,255),blue2:cc.color(0,102,204),blue3:cc.color(0,51,172),gray2:cc.color(56,56,56),green:cc.Color.GREEN,button_enabled:cc.color(255,150,255),button_disabled:cc.color(180,180,180)},c=cc._decorator,r=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchPanel=null,e.painter=null,e.clearBtnNode=null,e.animeBtnNode=null,e.animeTicking=null,e.animePercent=0,e.lstPts=[],e.pickedIndex=-1,e}return __extends(e,t),e.prototype.init=function(){cc.log("CubicBezierCurve init."),this.touchPanel.on(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.on(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.on(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.on(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.on(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.animeBtnNode.on(cc.Node.EventType.TOUCH_END,this.animeBtnNodeOnTouchEnd,this)},e.prototype.release=function(){cc.log("CubicBezierCurve release."),this.touchPanel.off(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.off(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.off(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.off(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.off(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.animeBtnNode.off(cc.Node.EventType.TOUCH_END,this.animeBtnNodeOnTouchEnd,this),this.animeTicking&&this.animeTicking.stop(),this.animeBtnNode.color=i.button_disabled,this.animeTicking=null,this.animePercent=0,this.lstPts.length=0,this.pickedIndex=-1},e.prototype.interpolate=function(t,e,o,n,i){var c=i,r=t.lerp(o,c),l=o.lerp(n,c),s=n.lerp(e,c),a=r.lerp(l,c),h=l.lerp(s,c);return a.lerp(h,c)},e.prototype.lateUpdate=function(){this.draw()},e.prototype.clearBtnNodeOnTouchEnd=function(){this.animeTicking&&this.animeTicking.stop(),this.animeBtnNode.color=i.button_disabled,this.animeTicking=null,this.animePercent=0,this.lstPts.length=0,this.pickedIndex=-1},e.prototype.animeBtnNodeOnTouchEnd=function(){var t=this;this.animeTicking?(this.animeBtnNode.color=i.button_disabled,this.animeTicking.stop(),this.animeTicking=null,this.animePercent=0):4===this.lstPts.length&&(this.animeBtnNode.color=i.button_enabled,this.animePercent=0,this.animeTicking=cc.tween(this.node).then(cc.repeatForever(cc.sequence(cc.callFunc(function(){var e=t.animePercent+.005;e=e<1?e:e-Math.floor(e),t.animePercent=e}),cc.delayTime(0)))).start())},e.prototype.touchPanelOnTouchStart=function(t){var e=this.lstPts,o=t.getLocation(),n=Math.pow(23,2);this.pickedIndex=e.findIndex(function(t){return t.sub(o).magSqr()<=n}),-1===this.pickedIndex&&e.length<2&&(e.push(t.getLocation()),2===e.length&&(e.push(e[0].lerp(e[1],.33)),e.push(e[0].lerp(e[1],.66))))},e.prototype.touchPanelOnTouchMove=function(t){this.lstPts[this.pickedIndex]&&(this.lstPts[this.pickedIndex]=t.getLocation())},e.prototype.touchPanelOnTouchEnd=function(){this.pickedIndex=-1},e.prototype.touchPanelOnTouchCancel=function(){this.pickedIndex=-1},e.prototype.drawListPoints=function(t,e,o,n){var i=this.painter,c=this.lstPts;if(t<c.length){e=Math.min(e,c.length),i.fillColor=n;for(var r=t;r<e;++r)c[r]&&i.circle(c[r].x,c[r].y,o);i.fill()}},e.prototype.drawPoints=function(){this.drawListPoints(0,2,15,i.blue2),this.drawListPoints(0,2,11.25,i.blue),this.drawListPoints(2,4,11.25,i.purple2),this.drawListPoints(2,4,8.4375,i.purple)},e.prototype.drawAuxiliaryLines=function(){var t=this.painter,e=this.lstPts;e.length>=2&&(t.lineWidth=2.5,t.strokeColor=i.white,t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y),t.stroke()),4===e.length&&(t.lineWidth=2.5,t.strokeColor=i.gray2,t.moveTo(e[0].x,e[0].y),t.lineTo(e[2].x,e[2].y),t.lineTo(e[3].x,e[3].y),t.lineTo(e[1].x,e[1].y),t.stroke())},e.prototype.drawExplanation=function(t){var e=this.painter,o=this.lstPts,n=t;if(4===o.length){var c=o[0],r=o[1],l=o[2],s=o[3],a=c.lerp(l,n),h=l.lerp(s,n),u=s.lerp(r,n),d=a.lerp(h,n),p=h.lerp(u,n),f=this.interpolate(c,r,l,s,n);e.lineWidth=3.75,e.strokeColor=i.green,e.moveTo(a.x,a.y),e.lineTo(h.x,h.y),e.lineTo(u.x,u.y),e.stroke(),e.strokeColor=i.blue3,e.moveTo(d.x,d.y),e.lineTo(p.x,p.y),e.stroke(),e.fillColor=i.green,e.circle(a.x,a.y,6),e.circle(h.x,h.y,6),e.circle(u.x,u.y,6),e.fill(),e.fillColor=i.blue3,e.circle(d.x,d.y,6),e.circle(p.x,p.y,6),e.fill(),e.fillColor=i.cyan,e.circle(f.x,f.y,9),e.fill()}},e.prototype.drawCubicBezierCurve=function(){var t=this.painter,e=this.lstPts;if(4===e.length){t.lineWidth=5,t.strokeColor=i.yellow,t.moveTo(e[0].x,e[0].y);for(var o=e[0],n=e[1],c=e[2],r=e[3],l=o,s=0;s<=1;s+=.005)l=this.interpolate(o,n,c,r,s),t.lineTo(l.x,l.y);t.stroke()}},e.prototype.draw=function(){this.painter.clear(),this.drawAuxiliaryLines(),this.drawCubicBezierCurve(),this.animeTicking&&this.drawExplanation(this.animePercent),this.drawPoints()},__decorate([l(cc.Node)],e.prototype,"touchPanel",void 0),__decorate([l(cc.Graphics)],e.prototype,"painter",void 0),__decorate([l(cc.Node)],e.prototype,"clearBtnNode",void 0),__decorate([l(cc.Node)],e.prototype,"animeBtnNode",void 0),__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./Demonstration":"Demonstration"}],Demonstration:[function(t,e,o){"use strict";cc._RF.push(e,"3affe+2XQpHXogMMrqxs4OM","Demonstration"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),__decorate([i],e)}(cc.Component));o.default=c,cc._RF.pop()},{}],Display:[function(t,e,o){"use strict";cc._RF.push(e,"5f127D4DalN5JDEkEAFf0P4","Display"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i={button_enabled:cc.color(255,150,255),button_disabled:cc.color(180,180,180)},c=cc._decorator,r=c.ccclass,l=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonNode=null,e.hermiteBtnNode=null,e.bezier2BtnNode=null,e.bezier3BtnNode=null,e.cardinalBtnNode=null,e.ccrBtnNode=null,e.layerNode=null,e.hermiteLayerNode=null,e.bezier2LayerNode=null,e.bezier3LayerNode=null,e.cardinalLayerNode=null,e.ccrLayerNode=null,e}return __extends(e,t),e.prototype.onLoad=function(){cc.dynamicAtlasManager.enabled=!1,this.buttonNode=cc.find("Canvas/Display/TopUI/Buttons"),this.hermiteBtnNode=cc.find("HermiteCurve",this.buttonNode),this.bezier2BtnNode=cc.find("QuadraticBezierCurve",this.buttonNode),this.bezier3BtnNode=cc.find("CubicBezierCurve",this.buttonNode),this.cardinalBtnNode=cc.find("CardinalSpline",this.buttonNode),this.ccrBtnNode=cc.find("CentripetalCatmullRomSpline",this.buttonNode),this.layerNode=cc.find("Canvas/Display/Layers"),this.hermiteLayerNode=cc.find("HermiteCurve",this.layerNode),this.bezier2LayerNode=cc.find("QuadraticBezierCurve",this.layerNode),this.bezier3LayerNode=cc.find("CubicBezierCurve",this.layerNode),this.cardinalLayerNode=cc.find("CardinalSpline",this.layerNode),this.ccrLayerNode=cc.find("CentripetalCatmullRomSpline",this.layerNode)},e.prototype.start=function(){var t=this,e=function(t,e){e.children.forEach(function(t){return t.color=i.button_disabled}),t.color=i.button_enabled},o=function(t,e){var o;e.children.forEach(function(t){var e;!0===t.active&&(null===(e=t.getComponent(n.default))||void 0===e||e.release()),t.active=!1}),t.active=!0,null===(o=t.getComponent(n.default))||void 0===o||o.init()};this.hermiteBtnNode.on(cc.Node.EventType.TOUCH_END,function(){e(t.hermiteBtnNode,t.buttonNode),o(t.hermiteLayerNode,t.layerNode)}),this.bezier2BtnNode.on(cc.Node.EventType.TOUCH_END,function(){e(t.bezier2BtnNode,t.buttonNode),o(t.bezier2LayerNode,t.layerNode)}),this.bezier3BtnNode.on(cc.Node.EventType.TOUCH_END,function(){e(t.bezier3BtnNode,t.buttonNode),o(t.bezier3LayerNode,t.layerNode)}),this.cardinalBtnNode.on(cc.Node.EventType.TOUCH_END,function(){e(t.cardinalBtnNode,t.buttonNode),o(t.cardinalLayerNode,t.layerNode)}),this.ccrBtnNode.on(cc.Node.EventType.TOUCH_END,function(){e(t.ccrBtnNode,t.buttonNode),o(t.ccrLayerNode,t.layerNode)}),this.hermiteBtnNode.emit(cc.Node.EventType.TOUCH_END)},__decorate([r],e)}(cc.Component));o.default=l,cc._RF.pop()},{"./Demonstration":"Demonstration"}],HermiteCurveDemo:[function(t,e,o){"use strict";cc._RF.push(e,"2b46dNatKJKhJeyV9G0fPar","HermiteCurveDemo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i={white:cc.Color.WHITE,yellow:cc.Color.YELLOW,purple:cc.Color.MAGENTA,purple2:cc.color(153,0,153),blue:cc.color(51,153,255),blue2:cc.color(0,102,204)},c=cc._decorator,r=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchPanel=null,e.painter=null,e.clearBtnNode=null,e.lstPts=[],e.pickedIndex=-1,e}return __extends(e,t),e.prototype.init=function(){cc.log("HermiteCurveDemo init."),this.touchPanel.on(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.on(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.on(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.on(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.on(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this)},e.prototype.release=function(){cc.log("HermiteCurveDemo release."),this.touchPanel.off(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.off(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.off(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.off(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.off(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.lstPts.length=0,this.pickedIndex=-1},e.prototype.interpolate=function(t,e,o,n,i){var c=i,r=Math.pow(c,2),l=Math.pow(c,3),s=2*l-3*r+1,a=-2*l+3*r,h=l-2*r+c,u=l-r;return t.mul(s).addSelf(e.mul(a).addSelf(o.mul(h).addSelf(n.mul(u))))},e.prototype.lateUpdate=function(){this.draw()},e.prototype.clearBtnNodeOnTouchEnd=function(){this.lstPts.length=0,this.pickedIndex=-1},e.prototype.touchPanelOnTouchStart=function(t){var e=this.lstPts,o=t.getLocation(),n=Math.pow(23,2);if(this.pickedIndex=e.findIndex(function(t){return t.sub(o).magSqr()<=n}),-1===this.pickedIndex&&e.length<2&&(e.push(t.getLocation()),2===e.length)){var i=e[1].sub(e[0]).mulSelf(.33);e.push(e[0].add(i)),e.push(e[1].add(i))}},e.prototype.touchPanelOnTouchMove=function(t){this.lstPts[this.pickedIndex]&&(this.lstPts[this.pickedIndex]=t.getLocation())},e.prototype.touchPanelOnTouchEnd=function(){this.pickedIndex=-1},e.prototype.touchPanelOnTouchCancel=function(){this.pickedIndex=-1},e.prototype.drawListPoints=function(t,e,o,n){var i=this.painter,c=this.lstPts;if(t<c.length){e=Math.min(e,c.length),i.fillColor=n;for(var r=t;r<e;++r)c[r]&&i.circle(c[r].x,c[r].y,o);i.fill()}},e.prototype.drawPoints=function(){this.drawListPoints(0,2,15,i.blue2),this.drawListPoints(0,2,11.25,i.blue),this.drawListPoints(2,4,11.25,i.purple2),this.drawListPoints(2,4,8.4375,i.purple)},e.prototype.drawAuxiliaryLines=function(){var t=this.painter,e=this.lstPts;e.length>=2&&(t.lineWidth=2.5,t.strokeColor=i.white,t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y),t.stroke())},e.prototype.drawTangents=function(){var t=this.painter,e=this.lstPts;4===e.length&&(t.lineWidth=3.75,t.strokeColor=i.purple,t.moveTo(e[0].x,e[0].y),t.lineTo(e[2].x,e[2].y),t.moveTo(e[1].x,e[1].y),t.lineTo(e[3].x,e[3].y),t.stroke())},e.prototype.drawHermiteCurve=function(){var t=this.painter,e=this.lstPts;if(4===e.length){t.lineWidth=5,t.strokeColor=i.yellow,t.moveTo(e[0].x,e[0].y);for(var o=e[0],n=e[1],c=e[2].sub(o).mulSelf(2),r=e[3].sub(n).mulSelf(2),l=o,s=0;s<=1;s+=.005)l=this.interpolate(o,n,c,r,s),t.lineTo(l.x,l.y);t.stroke()}},e.prototype.draw=function(){this.painter.clear(),this.drawAuxiliaryLines(),this.drawHermiteCurve(),this.drawTangents(),this.drawPoints()},__decorate([l(cc.Node)],e.prototype,"touchPanel",void 0),__decorate([l(cc.Graphics)],e.prototype,"painter",void 0),__decorate([l(cc.Node)],e.prototype,"clearBtnNode",void 0),__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./Demonstration":"Demonstration"}],Mouse:[function(t,e,o){"use strict";cc._RF.push(e,"a6ea65uOQhM8qzNJmap5/Jq","Mouse"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=n.ccclass,c=n.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.cusor=null,e}return __extends(e,t),e.prototype.onLoad=function(){var t=this;!0===cc.sys.isBrowser&&!1===cc.sys.isMobile&&(document.body.style.cursor="none",this.cusor.active=!0,this.node.on(cc.Node.EventType.MOUSE_MOVE,function(e){t.cusor.setPosition(e.getLocation()),e.stopPropagation()}))},__decorate([c(cc.Node)],e.prototype,"cusor",void 0),__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],QuadraticBezierCurveDemo:[function(t,e,o){"use strict";cc._RF.push(e,"b6736lOxKNNCpNmuhbXGhS0","QuadraticBezierCurveDemo"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Demonstration"),i={cyan:cc.Color.CYAN,white:cc.Color.WHITE,yellow:cc.Color.YELLOW,purple:cc.Color.MAGENTA,purple2:cc.color(153,0,153),blue:cc.color(51,153,255),blue2:cc.color(0,102,204),gray2:cc.color(56,56,56),green:cc.Color.GREEN,button_enabled:cc.color(255,150,255),button_disabled:cc.color(180,180,180)},c=cc._decorator,r=c.ccclass,l=c.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchPanel=null,e.painter=null,e.clearBtnNode=null,e.animeBtnNode=null,e.animeTicking=null,e.animePercent=0,e.lstPts=[],e.pickedIndex=-1,e}return __extends(e,t),e.prototype.init=function(){cc.log("QuadraticBezierCurveDemo init."),this.touchPanel.on(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.on(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.on(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.on(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.on(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.animeBtnNode.on(cc.Node.EventType.TOUCH_END,this.animeBtnNodeOnTouchEnd,this)},e.prototype.release=function(){cc.log("QuadraticBezierCurveDemo release."),this.touchPanel.off(cc.Node.EventType.TOUCH_START,this.touchPanelOnTouchStart,this),this.touchPanel.off(cc.Node.EventType.TOUCH_MOVE,this.touchPanelOnTouchMove,this),this.touchPanel.off(cc.Node.EventType.TOUCH_END,this.touchPanelOnTouchEnd,this),this.touchPanel.off(cc.Node.EventType.TOUCH_CANCEL,this.touchPanelOnTouchCancel,this),this.clearBtnNode.off(cc.Node.EventType.TOUCH_END,this.clearBtnNodeOnTouchEnd,this),this.animeBtnNode.off(cc.Node.EventType.TOUCH_END,this.animeBtnNodeOnTouchEnd,this),this.animeTicking&&this.animeTicking.stop(),this.animeBtnNode.color=i.button_disabled,this.animeTicking=null,this.animePercent=0,this.lstPts.length=0,this.pickedIndex=-1},e.prototype.interpolate=function(t,e,o,n){var i=n,c=t.lerp(o,i),r=o.lerp(e,i);return c.lerp(r,i)},e.prototype.lateUpdate=function(){this.draw()},e.prototype.clearBtnNodeOnTouchEnd=function(){this.animeTicking&&this.animeTicking.stop(),this.animeBtnNode.color=i.button_disabled,this.animeTicking=null,this.animePercent=0,this.lstPts.length=0,this.pickedIndex=-1},e.prototype.animeBtnNodeOnTouchEnd=function(){var t=this;this.animeTicking?(this.animeBtnNode.color=i.button_disabled,this.animeTicking.stop(),this.animeTicking=null,this.animePercent=0):3===this.lstPts.length&&(this.animeBtnNode.color=i.button_enabled,this.animePercent=0,this.animeTicking=cc.tween(this.node).then(cc.repeatForever(cc.sequence(cc.callFunc(function(){var e=t.animePercent+.005;e=e<1?e:e-Math.floor(e),t.animePercent=e}),cc.delayTime(0)))).start())},e.prototype.touchPanelOnTouchStart=function(t){var e=this.lstPts,o=t.getLocation(),n=Math.pow(23,2);this.pickedIndex=e.findIndex(function(t){return t.sub(o).magSqr()<=n}),-1===this.pickedIndex&&e.length<2&&(e.push(t.getLocation()),2===e.length&&e.push(e[0].lerp(e[1],.5)))},e.prototype.touchPanelOnTouchMove=function(t){this.lstPts[this.pickedIndex]&&(this.lstPts[this.pickedIndex]=t.getLocation())},e.prototype.touchPanelOnTouchEnd=function(){this.pickedIndex=-1},e.prototype.touchPanelOnTouchCancel=function(){this.pickedIndex=-1},e.prototype.drawListPoints=function(t,e,o,n){var i=this.painter,c=this.lstPts;if(t<c.length){e=Math.min(e,c.length),i.fillColor=n;for(var r=t;r<e;++r)c[r]&&i.circle(c[r].x,c[r].y,o);i.fill()}},e.prototype.drawPoints=function(){this.drawListPoints(0,2,15,i.blue2),this.drawListPoints(0,2,11.25,i.blue),this.drawListPoints(2,3,11.25,i.purple2),this.drawListPoints(2,3,8.4375,i.purple)},e.prototype.drawAuxiliaryLines=function(){var t=this.painter,e=this.lstPts;e.length>=2&&(t.lineWidth=2.5,t.strokeColor=i.white,t.moveTo(e[0].x,e[0].y),t.lineTo(e[1].x,e[1].y),t.stroke()),3===e.length&&(t.lineWidth=2.5,t.strokeColor=i.gray2,t.moveTo(e[0].x,e[0].y),t.lineTo(e[2].x,e[2].y),t.lineTo(e[1].x,e[1].y),t.stroke())},e.prototype.drawExplanation=function(t){var e=this.painter,o=this.lstPts,n=t;if(3===o.length){var c=o[0],r=o[1],l=o[2],s=c.lerp(l,n),a=l.lerp(r,n),h=this.interpolate(c,r,l,n);e.lineWidth=3.75,e.strokeColor=i.green,e.moveTo(s.x,s.y),e.lineTo(a.x,a.y),e.stroke(),e.fillColor=i.green,e.circle(s.x,s.y,6),e.circle(a.x,a.y,6),e.fill(),e.fillColor=i.cyan,e.circle(h.x,h.y,9),e.fill()}},e.prototype.drawQuadraticBezierCurve=function(){var t=this.painter,e=this.lstPts;if(3===e.length){t.lineWidth=5,t.strokeColor=i.yellow,t.moveTo(e[0].x,e[0].y);for(var o=e[0],n=e[1],c=e[2],r=o,l=0;l<=1;l+=.005)r=this.interpolate(o,n,c,l),t.lineTo(r.x,r.y);t.stroke()}},e.prototype.draw=function(){this.painter.clear(),this.drawAuxiliaryLines(),this.drawQuadraticBezierCurve(),this.animeTicking&&this.drawExplanation(this.animePercent),this.drawPoints()},__decorate([l(cc.Node)],e.prototype,"touchPanel",void 0),__decorate([l(cc.Graphics)],e.prototype,"painter",void 0),__decorate([l(cc.Node)],e.prototype,"clearBtnNode",void 0),__decorate([l(cc.Node)],e.prototype,"animeBtnNode",void 0),__decorate([r],e)}(n.default);o.default=s,cc._RF.pop()},{"./Demonstration":"Demonstration"}]},{},["CCRSpline","CardinalSplineDemo","CentripetalCatmullRomSplineDemo","CubicBezierCurve","Demonstration","Display","HermiteCurveDemo","Mouse","QuadraticBezierCurveDemo"]);